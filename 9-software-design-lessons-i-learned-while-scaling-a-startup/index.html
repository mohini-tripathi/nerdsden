<!DOCTYPE html><html lang="en" prefix="og: https://ogp.me/ns#"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="amphtml" href="https://nerds-den.com/9-software-design-lessons-i-learned-while-scaling-a-startup/amp/"/><style data-href="/2.7a7fd10b08846091aeed.css">code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}</style><meta name="generator" content="Gatsby 2.0.79"/><title data-react-helmet="true">9 Software Design Lessons I Learned While Scaling A Startup</title><link data-react-helmet="true" rel="icon" href="data:image/vnd.microsoft.icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAQAABILAAASCwAAAAAAAAAAAADr2/T/69v0/+vb9P/q2vT/7t72//jo+f/46Pn/9+j5//fo+f/56/r/9uf5/+/f9v/r2vT/69v0/+vb9P/r2/T/7d32/+3d9v/t3PX/8OD3/+LS8f+wnN3/e2TJ/4x30P+3pN//jHHN/4tzzf/fz+//79/3/+3c9v/t3fb/7d32/+/h+P/v4fj/7d73//vs/P+Cacz/JAep/y8Trf8vE63/PSu0/2d70P9TW8T/bVfD//bn+v/u4Pf/7+H4/+/h+P/z5Pn/8uP4//nn+v/U0/D/X2fI/zoasP88H7H/RC61/1dQwv+w8/f/qubz/22A0P/S0e//+ej7//Lj+P/z5Pn/8ub4//Hl+P/36fn/3dnx/1BKv/8xEa3/PyWz/15gxf9QRb3/XV/G/3KF0/9YVML/087u//jq+v/x5fj/8ub4//Xo+v/16Pr/+Or7/+vf9f+FitT/cHjO/05Mv/9MP7v/Pym0/0Avtv8/Mbb/Ry+2/+zd9f/46/v/9ef6//Xo+v/06/v/9Ov7//Tq+//16/v/+/f+/+nh9v9+bsv/bXzQ/2Bfxf+ipN3/0tfw/83P7f/z6Pr/9ev7//Tq+//06/v/9+77//fu+//37vv/9+37//bt+//97/v/29/z/3KM1f+pr+D//vH7//70/v/98/3/+O/7//fu+//37vv/9+77//fy+//38vv/9/H7//fy+//47/r/wNrw/53i8v+t8vn/qvf7/7DT7f/16vj/+fT8//bx+v/38vv/9/L7//fy+//59Pv/+fT7//j0+//8+P3/7ej2/5jL6/+l5/X/nNTu/4245f+i7Pf/t9Tt/+/q9v/79vz/+PT7//n0+//59Pv/+vj+//r4/v/49v3//////8vL7P+JteH/jbjj/4Om3v+Wyur/jbbk/5DH5//W1u////7///n2/f/6+P7/+vj+//z6/f/8+v3/+/r9///+///j5/X/k8Lm/5PD6P+f2vD/hKfc/6Pm9P+Cntz/4NPu///////7+f3//Pr9//z6/f/+/f7//v3+//38/v//////6u74/5/e8f+o7Pb/r/r9/6jt9/+2////a3zP/9fS7f///////Pv9//79/v/+/f7////////////+/v///////+fg8/+hxuf/qPj8/6b0+v+g5fX/mdju/4+r3P/18vn///////7+////////////////////////////////////////9/T4/77K6f+31Oz/oK3e/87U7P+0sOD///79//////////////////////////////////////////////7//////////v///vz+//38/v///////Pz9//39/v//////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=="/><link data-react-helmet="true" rel="canonical" href="https://nerds-den.com/9-software-design-lessons-i-learned-while-scaling-a-startup/"/><link data-react-helmet="true" rel="preconnect" href="https://m.facebook.com"/><link data-react-helmet="true" rel="preconnect" href="https://staticxx.facebook.com"/><link data-react-helmet="true" rel="preconnect" href="https://connect.facebook.net"/><meta data-react-helmet="true" charSet="utf-8"/><meta data-react-helmet="true" name="viewport" content="width=device-width, initial-scale=1"/><meta data-react-helmet="true" name="image"/><meta data-react-helmet="true" name="description" content="Are you a software developer in an early stage startup? Wish to learn key lessons in software engineering to design reliable software architecture? Click to find out more!"/><meta data-react-helmet="true" name="keywords" content="Software Design,Startup,Software Development,Best Practices,Software Architecture,Gyan,"/><meta data-react-helmet="true" property="og:title" content="9 Software Design Lessons I Learned While Scaling A Startup"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:url" content="https://nerds-den.com/9-software-design-lessons-i-learned-while-scaling-a-startup/"/><meta data-react-helmet="true" property="og:image" itemProp="image" content="https://nerds-den.com/logos/nerds-den.png"/><meta data-react-helmet="true" property="og:image:width" content="820"/><meta data-react-helmet="true" property="og:image:height" content="312"/><meta data-react-helmet="true" property="og:description" content="Are you a software developer in an early stage startup? Wish to learn key lessons in software engineering to design reliable software architecture? Click to find out more!"/><meta data-react-helmet="true" property="fb:app_id" content="2232544823425455"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="pntripathi9417"/><meta data-react-helmet="true" name="twitter:title" content="9 Software Design Lessons I Learned While Scaling A Startup"/><meta data-react-helmet="true" name="twitter:image" content="https://nerds-den.com/logos/nerds-den.png"/><meta data-react-helmet="true" name="twitter:description" content="Are you a software developer in an early stage startup? Wish to learn key lessons in software engineering to design reliable software architecture? Click to find out more!"/><script data-react-helmet="true" type="application/ld+json">[{"@context":"https://schema.org","@type":"WebSite","url":"https://nerds-den.com","name":"Nerd's Den","alternateName":"Nerd's Den | Memoirs Of A Skeptic Nerd"},{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://nerds-den.com","name":"Nerd's Den | Memoirs Of A Skeptic Nerd"}},{"@type":"ListItem","position":2,"item":{"@id":"https://nerds-den.com/9-software-design-lessons-i-learned-while-scaling-a-startup/","name":"9 Software Design Lessons I Learned While Scaling A Startup"}}]},{"@context":"https://schema.org","@type":"BlogPosting","url":"https://nerds-den.com/9-software-design-lessons-i-learned-while-scaling-a-startup/","name":"9 Software Design Lessons I Learned While Scaling A Startup","alternateName":"Nerd's Den | Memoirs Of A Skeptic Nerd","headline":"9 Software Design Lessons I Learned While Scaling A Startup","image":{"@type":"ImageObject","url":"https://nerds-den.com/logos/nerds-den.png","width":820,"height":312},"author":{"@type":"Person","name":"Pragyan Tripathi","url":"https://nerds-den.com/about/"},"publisher":{"@type":"Organization","name":"Vadelabs, Inc.","url":"https://vadelabs.com","logo":{"@type":"ImageObject","url":"https://nerds-den.com/logos/nerds-den.png"}},"datePublished":"January 06, 2019","dateModified":"January 06, 2019","mainEntityOfPage":"https://nerds-den.com/9-software-design-lessons-i-learned-while-scaling-a-startup/"}]</script><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#666"/><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link as="script" rel="preload" href="/2-fe2e0b7c5d355dd92853.js"/><link as="script" rel="preload" href="/component---src-templates-post-js-9c560fbe81ce0016baaa.js"/><link as="script" rel="preload" href="/app-0cba9704948fe026c2e4.js"/><link as="script" rel="preload" href="/0-2426f60835237eb006cc.js"/><link as="script" rel="preload" href="/webpack-runtime-d093596d07011eb26004.js"/><link as="fetch" rel="preload" href="/static/d/717/path---9-software-design-lessons-i-learned-while-scaling-a-startup-b-51-c2e-ut0IeA2zXkR7oabUilXrdbxHxDA.json" crossOrigin="use-credentials"/></head><body><noscript>Your browser does not support JavaScript!</noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" role="group"><div class="siteRoot"><div class="siteContent"><header class="sc-bdVaJa kEJHCz"><nav class="sc-bwzfXH koGDjd"><ul><li><a href="/">Home</a></li><li><a href="/tags/">Tags</a></li><li><a href="/about/">About</a></li><li><a href="/contact/">Contact</a></li></ul></nav></header><section class="sc-gZMcBi ewBkYm"><div class="sc-gqjmRU cbolWS gatsby-image-wrapper" style="position:relative;overflow:hidden"><div style="width:100%;padding-bottom:45%"></div><img src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIDAQT/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAeCWtcyGD//EABgQAAMBAQAAAAAAAAAAAAAAAAABEQIS/9oACAEBAAEFAlkaIdaiKf/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABYQAQEBAAAAAAAAAAAAAAAAABARIf/aAAgBAQAGPwLWV//EABgQAQEBAQEAAAAAAAAAAAAAAAEAESEx/9oACAEBAAE/IR6cJMOWo2cB9jzWZ//aAAwDAQACAAMAAAAQlC//xAAWEQADAAAAAAAAAAAAAAAAAAABECH/2gAIAQMBAT8QhX//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAcEAEAAgMAAwAAAAAAAAAAAAABABEhMUFRgZH/2gAIAQEAAT8QM8yTGH7EnALuIU+S5Sy0h33NuuuRigOT/9k=" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition:opacity 0.5s;transition-delay:0.25s"/><div style="background-color:#eeeeee;position:absolute;top:0;bottom:0;opacity:1;transition-delay:0.35s;right:0;left:0"></div><noscript><picture><source type='image/webp' srcSet="/static/d15c1c7cc8b04e1c6d115176a7eef075/132d5/cover.webp 200w,
/static/d15c1c7cc8b04e1c6d115176a7eef075/5f2a2/cover.webp 400w,
/static/d15c1c7cc8b04e1c6d115176a7eef075/ca3ca/cover.webp 800w,
/static/d15c1c7cc8b04e1c6d115176a7eef075/3c0bf/cover.webp 1200w,
/static/d15c1c7cc8b04e1c6d115176a7eef075/0cbcf/cover.webp 1600w,
/static/d15c1c7cc8b04e1c6d115176a7eef075/bd7b6/cover.webp 2400w,
/static/d15c1c7cc8b04e1c6d115176a7eef075/1b486/cover.webp 5551w" sizes="(max-width: 800px) 100vw, 800px" /><source srcSet="/static/d15c1c7cc8b04e1c6d115176a7eef075/21eb9/cover.jpg 200w,
/static/d15c1c7cc8b04e1c6d115176a7eef075/007d5/cover.jpg 400w,
/static/d15c1c7cc8b04e1c6d115176a7eef075/c3611/cover.jpg 800w,
/static/d15c1c7cc8b04e1c6d115176a7eef075/28dd4/cover.jpg 1200w,
/static/d15c1c7cc8b04e1c6d115176a7eef075/0d0e5/cover.jpg 1600w,
/static/d15c1c7cc8b04e1c6d115176a7eef075/d5388/cover.jpg 2400w,
/static/d15c1c7cc8b04e1c6d115176a7eef075/5363e/cover.jpg 5551w" sizes="(max-width: 800px) 100vw, 800px" /><img src="/static/d15c1c7cc8b04e1c6d115176a7eef075/c3611/cover.jpg" alt="" style="position:absolute;top:0;left:0;transition:opacity 0.5s;transition-delay:0.5s;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><h1 class="sc-VigVT dNtVj">9 Software Design Lessons I Learned While Scaling A Startup</h1></section><div></div><section class="sc-EHOje hjydbq"> <ul class="sc-cSHVUG gOICgU"><li class="sc-kAzzGY bTAFdj"><a href="/tags/software-design/">Software Design</a></li><li class="sc-kAzzGY bTAFdj"><a href="/tags/startup/">Startup</a></li><li class="sc-kAzzGY bTAFdj"><a href="/tags/software-development/">Software Development</a></li><li class="sc-kAzzGY bTAFdj"><a href="/tags/best-practices/">Best Practices</a></li><li class="sc-kAzzGY bTAFdj"><a href="/tags/software-architecture/">Software Architecture</a></li><li class="sc-kAzzGY bTAFdj"><a href="/tags/gyan/">Gyan</a></li></ul><div class="sc-fjdhpX dpIdzy"><p class="sc-jzJRlG iuEZcU"><span>Published:</span> <!-- -->January 06, 2019</p></div><div class="sc-jTzLTM kpHkVv"><p>Over three years, I worked as a Backend Team Lead at <a href="https://elanic.in">Elanic</a> (India’s Biggest Community For Buying and Selling). I learned a lot about software development during these “firey” years of scaling <a href="https://elanic.in">Elanic</a> from 3 users in August 2015 to 3 million users in August 2018.</p>
<p><a
    class="gatsby-resp-image-link"
    href="/static/2f9df7402d2bee721d1e169190f5f257/4ee88/software-development-expectations-vs-reality.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 404px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 100.99009900990099%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsSAAALEgHS3X78AAACkklEQVQ4y32TV1NiQRCF59/zF3ihoHhAiyIICAgUSUIRBJHokhFJggQtooT9ZMANtWs/zJ3b0+H06W5xOMput6vX69ls9ubm5vb2tlarpVKpRCKRTqdDodDd3V00GvX7/cFgkDvG2+0WL8Hn4+MDa9z0ej3PBoPBZrOFw2Gv1+t0Oo1Go8/nu7q6MplMl5eXPBFxOp3iKEg4Go16vd7T09Pz8/NgMJBns9n0eDy4AaHb7bbbbfTYcOn3+8Ph8OXlRfAAgP1+f/hTlsslbslkslqtHv4jJ+e3t7fNZjObzbisViuUnU6H2g7figADn8lkUqlUFAqF2WzmQojFYgH4f4L65ZzL5SAZB9JSP7GoFsz48wuXAAGUtKZUtVqNgQwqMpnM/f19oVCAXhiCbboyHo/xjEQiFxcXWq1Wp9OhxwE4drsd2k7O8MwNhHRIqVTyhh0dRklLrFYrIeg85JF/vV6j5wTaZ6u+nOkEJMlOYBqLxWghCBmBVqvVaDSKxWK5XP5xFlCIh4cH3DBqnAVTxogS0BOaiPL1dxtpJqCKdpNtcBbu1Aw3brebkaSE7lF4AgtPs6N8NyRUKOGRWWooFSwgj8fjDoeDWCdnWiL95UnzLBYLmUlLFNDBHA64BQIBiKT+z5olYeChsXIrmEcictISFoAM1F8qlSTVf48naSmAN5aGwACjE1QOzzTp8fHxa07RkwY6OBkewbpeX1/D+ftR4AMmudBe2GIlXS4XZc/nc7CwlcwMW6lSqfL5vIADAoPw9fUVDgnJnMv1oCpAfRGBASPEtLH2VEd+IaefG7DhBmtGhyhAQCNDgJaTHJiRDGiyBYLssMI/XaFaKmSqQavRaNDAM8rKUfjliVGRAwdZPwG3HiL45E/QJQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
    ></span>
    <picture>
        <source
          srcset="/static/2f9df7402d2bee721d1e169190f5f257/02d3c/software-development-expectations-vs-reality.webp 200w,
/static/2f9df7402d2bee721d1e169190f5f257/84d31/software-development-expectations-vs-reality.webp 400w,
/static/2f9df7402d2bee721d1e169190f5f257/df0da/software-development-expectations-vs-reality.webp 404w"
          sizes="(max-width: 404px) 100vw, 404px"
          type="image/webp"
        />
        <source
          srcset="/static/2f9df7402d2bee721d1e169190f5f257/dc54d/software-development-expectations-vs-reality.png 200w,
/static/2f9df7402d2bee721d1e169190f5f257/d89ae/software-development-expectations-vs-reality.png 400w,
/static/2f9df7402d2bee721d1e169190f5f257/4ee88/software-development-expectations-vs-reality.png 404w"
          sizes="(max-width: 404px) 100vw, 404px"
          type="image/png"
        />
        <img
          class="gatsby-resp-image-image"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;"
          src="/static/2f9df7402d2bee721d1e169190f5f257/4ee88/software-development-expectations-vs-reality.png"
          alt="Software Development - Expectations vs Reality"
          title="Software Development Expectations Vs Reality"
        />
      </picture>
  </span>
  </a></p>
<p>I started with no prior experience in building a production-grade software system. I thought I had a good foundation of programming concepts. How hard could it be? Little that I knew, I am in for lots of sleepless nights and burning myself out in the quest of stabilizing <a href="https://elanic.in">Elanic’s</a> backend system.</p>
<blockquote>
<p>Trying to create new, challenging things is good for society, good for the industry and good for my own life. ~Sachio Semmoto</p>
</blockquote>
<p>No other experience could have taught me what I know today. In this article, I share my experiences and the software design lessons I learned the hard way.</p>
<h2>Table Of Contents</h2>
<ol>
<li><a href="#start-with-the-data-model">Start With The Data Model</a></li>
<li><a href="#separate-your-concerns">Separate Your Concerns</a></li>
<li><a href="#leverage-rule-engines">Leverage Rule Engines</a></li>
<li><a href="#prioritize-software-testing">Prioritize Software Testing</a></li>
<li><a href="#there-are-no-coincidences">There Are No Coincidences</a></li>
<li><a href="#things-will-break">Things Will Break</a></li>
<li><a href="#setup-logging-and-error-handling-early">Setup Logging And Error Handling Early</a></li>
<li><a href="#it-will-take-longer-than-you-think">It Will Take Longer Than You Think</a></li>
<li><a href="#there-will-always-be-bugs">There Will Always Be Bugs</a></li>
<li><a href="#conclusion">Conclusion</a></li>
</ol>
<p><a name="start-with-the-data-model"></a></p>
<hr>
<h2>1. Start With The Data Model</h2>
<p>Business people often care about data and concentrate on how this data can be transformed, combined and separated to meet business requirements.</p>
<p>Whereas software developers tend to care about the classes, functions, and processes they are writing.</p>
<p>This mismatch in the thinking process leads to further misunderstanding among business and engineering teams.</p>
<p>To understand the gravity of the problem let’s draw a typical feature request timeline, I went through:</p>
<p><img src="./early-stage-startup-feature-request-pipeline.png" alt="Early Stage Startup Feature Request Pipeline" title="Early Stage Startup Feature Request Pipeline"></p>
<p>Six months into my job as a backend developer, I realized I need to understand better business requirements and design system flexible enough to adapt that frequency of change.</p>
<p>Hence, <strong>Data Modelling.</strong></p>
<p>Data modeling aims to define:</p>
<ul>
<li>
<p><strong><em>The data contained in the database</em></strong> (e.g., entities: devices, profiles, products, carts, orders, wallets, etc.)</p>
</li>
<li>
<p><strong><em>The relationships among data items</em></strong> (e.g., users can create products, profiles can add these products to their cart, etc.)</p>
</li>
<li>
<p><strong><em>The constraints on data</em></strong> (e.g., at max only 30 products can be bought together, wallet credit should not be used if wallet balance becomes less than zero, etc.)</p>
</li>
</ul>
<p>Following data modelling guidelines gave me a clear understanding of business requirements and teams were able to understand and communicate themselves better.</p>
<p><a name="separate-your-concerns"></a></p>
<hr>
<h2>2. Separate Your Concerns</h2>
<p><a
    class="gatsby-resp-image-link"
    href="/static/add35cac52001a119df500c72d7f6b2a/47ed4/separation-of-concerns.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block;  max-width: 800px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIBAwX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAHcVlLCQ//EABcQAQEBAQAAAAAAAAAAAAAAAAEQEiH/2gAIAQEAAQUCancBP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABgQAAIDAAAAAAAAAAAAAAAAAAAQASIx/9oACAEBAAY/AjXWF//EABkQAAMBAQEAAAAAAAAAAAAAAAABMREhYf/aAAgBAQABPyG60c3E/PRQY/ApxbRQ/9oADAMBAAIAAwAAABBnD//EABURAQEAAAAAAAAAAAAAAAAAABAh/9oACAEDAQE/EIf/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAEAAgIDAAAAAAAAAAAAAAABABEhMUFRof/aAAgBAQABPxC/GHTUW1LRCyMalfZZCsI6qLyhQjP/2Q=='); background-size: cover; display: block;"
    ></span>
    <picture>
        <source
          srcset="/static/add35cac52001a119df500c72d7f6b2a/8ee75/separation-of-concerns.webp 200w,
/static/add35cac52001a119df500c72d7f6b2a/60143/separation-of-concerns.webp 400w,
/static/add35cac52001a119df500c72d7f6b2a/66895/separation-of-concerns.webp 800w,
/static/add35cac52001a119df500c72d7f6b2a/79a2c/separation-of-concerns.webp 960w"
          sizes="(max-width: 800px) 100vw, 800px"
          type="image/webp"
        />
        <source
          srcset="/static/add35cac52001a119df500c72d7f6b2a/ad5d5/separation-of-concerns.jpg 200w,
/static/add35cac52001a119df500c72d7f6b2a/39b42/separation-of-concerns.jpg 400w,
/static/add35cac52001a119df500c72d7f6b2a/ab9a6/separation-of-concerns.jpg 800w,
/static/add35cac52001a119df500c72d7f6b2a/47ed4/separation-of-concerns.jpg 960w"
          sizes="(max-width: 800px) 100vw, 800px"
          type="image/jpeg"
        />
        <img
          class="gatsby-resp-image-image"
          style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;box-shadow:inset 0px 0px 0px 400px transparent;"
          src="/static/add35cac52001a119df500c72d7f6b2a/ab9a6/separation-of-concerns.jpg"
          alt="Separation Of Concerns"
          title="Separation Of Concerns"
        />
      </picture>
  </span>
  </a></p>
<p>When I started backend development in <a href="https://elanic.in">Elanic</a>, the problem we were trying to solve seemed natural. <em>It’s a social community engaged in buying and selling of lifestyle items.</em></p>
<p>It took me seven consecutive sleepless nights to keep the servers running during our growth phase to understand there is nothing natural or straightforward about it.</p>
<p>Once we stabilized the system to sustain the traffic, I realized the whole codebase is the unsustainable mesh of reads and writes operations.</p>
<p>Next month went into a rewrite of the critical sections using proper abstractions - separating read and write operations.</p>
<p>Abstractions are the solutions to general problems. Consider <code class="language-text">+</code> function. It is a solution to adding numbers in general. Without input arguments, it is quite useless.</p>
<p>Applying these abstractions to a particular set of arguments is a solution to a specific problem.</p>
<p>We often think of software as the solution to a particular issue, like accounting software is the solution to the problem of accounting. An e-commerce website is a solution to selling online.</p>
<p>But, it is a bit like kitchen being a solution to cooking. It doesn’t tell the whole story. If you open the cabinet, you realize that preparing food is an extremely complicated process.</p>
<p>It involves solving a lot of smaller problems, like cutting, heating, mixing ingredients, etc. Our software is the same. It’s hundreds of solutions to lots of subproblems.</p>
<p>As a software developer, when we develop a new system, our task is as involved as inventing a cuisine. Our tools are much more malleable than steel so that we can iterate faster, but we still need to fill those drawers with tools and develop techniques to select the right one and apply it in the right way.</p>
<p><a name="leverage-rule-engines"></a></p>
<hr>
<h2>3. Levarage Rule Engines</h2>
<p>Once we decided to introduce voucher support in buy-flow of our application. To do it faster I hardcoded the coupon code and validation logic within the codebase.
Next day onwards, the marketing team kept asking to change the coupon almost every day, and we kept re-writing the same block of code instead of moving forward and focusing on other features. We couldn’t properly test these deployments and ended up providing lousy user experiences.
Later on, similar kind of changes got introduced in deciding commission, delivery charges, pickup charges, etc. Thankfully, my mentor, Abhishek Chauhan introduced me to rule engines right before I was reaching the limit of my patience.</p>
<p>If you are not familiar with business rule engines, you may be wondering why you would want to use one. In most software applications, complex rule processing often takes the form of nested if-else blocks of code which can be very difficult to interpret and to maintain. 
If rules change (they always do),  a developer must work with a business person to define the new rule sets. The developer must then understand the existing implementation and realize what’s happening to make the required modifications. These changes must then be recompiled, tested, and redeployed.</p>
<p>A business rules engine provides a means to separate the rules or logic of an application from the remaining codebase. Separating these rules offers enormous benefits.</p>
<ul>
<li>
<p><em>Business rule engines allow the declarative style of programming. Rules define what should happen, without describing how should it be happening. This makes codebase much easier to read. Also, it becomes easier to make changes without introducing bugs.</em></p>
</li>
<li>
<p><em>These rules can be described in easy-to-understand language for business people. This enables business people to validate and even modify rules without involving software developers.</em></p>
</li>
<li>
<p><em>Also, you don’t need to go through. If your deployment process requires passing each line of code through a strict workflow of recompilation and testing, leveraging rule engines can be a huge time saver.</em></p>
</li>
</ul>
<p><a name="prioritize-software-testing"></a></p>
<hr>
<h2>4. Prioritize Software Testing</h2>
<p>In an early stage startup, feature requests tend to change so often that writing automated tests takes a backfoot over manual testing and direct deployments. </p>
<p>It’s not until too late that you realize that the trade-off has been quite expensive. </p>
<p>I won’t suggest you write tests from the start but at-least write testable code.</p>
<p>Some code is written in such a way that it is hard, or even impossible, to write a good unit test for it. So, what makes code hard to test? Let’s review some anti-patterns, code smells, and bad practices that we should avoid when writing testable code.</p>
<p>Uncontrolled non-determinism and side effects are similar in their destructive effects on the codebase. When used carelessly, they lead to deceptive, hard to understand and maintain, tightly coupled, non-reusable, and untestable code.</p>
<p>On the other hand, methods that are both deterministic and side-effect-free are much easier to test, reason about, and reuse to build larger programs.</p>
<p>In terms of functional programming, such methods are called pure functions. We’ll rarely have a problem unit testing a pure function; all we have to do is to pass some arguments and check the result for correctness.</p>
<p>What really makes code untestable is hard-coded, impure factors that cannot be replaced, overridden, or abstracted away in some other way.</p>
<p>Impurity is toxic: if method Foo() depends on non-deterministic or side-effecting method Bar(), then Foo() becomes non-deterministic or side-effecting as well. Eventually, we may end up poisoning the entire codebase. Multiply all these problems by the size of a complex real-life application, and we’ll find ourselves encumbered with a hard to maintain codebase full of smells, anti-patterns, secret dependencies, and all sorts of ugly and unpleasant things.</p>
<h2><a name="there-are-no-coincidences"></a></h2>
<h2>5. There Will Always Be Bugs</h2>
<p>If you are like me, who cares about his code quality and doesn’t like bugs in his program, you will relate to the disappointment you had after the product launch. </p>
<p>Disappointment is the degree of mismatch between our expectations and reality.</p>
<p>Our expectations of software quality are profoundly unrealistic. </p>
<p>The only reliable, widely used way to ensure impeccable software quality is to write less software that does less stuff, and then spend eons honing that tiny lot.</p>
<p>Such an approach, however, is very rarely compatible with commercial success or even programmer motivations (despite what many may claim).</p>
<p>Bugs are an inevitable byproduct of writing software.</p>
<p>Sure, there are all sorts of techniques and potions that promise to decrease how many of the damn critters runabout, but only the comically hyperbole pretends that complete eradication is possible.</p>
<p>Once we accept that simple fact that software = bugs, we can progress to understand why fixing them may not even be that important a lot of the time.</p>
<p>The absence of bugs is simply one parameter of success in software, but not even close to the most important one (with some exception for life-critical systems).</p>
<p>Useless software can be entirely bug-free, yet remain entirely useless. Useful software can be ridden with bugs, yet remain highly valuable. Or, the value of software depends far more upon the problem it solves than the quality by which it does so.</p>
<p><a name="things-will-break"></a></p>
<hr>
<h2>6. Things Will Break</h2>
<p><a name="setup-logging-and-error-handling-early"></a></p>
<hr>
<h2>7. Setup Logging And Error Handling Early</h2>
<p>When developing a new software system, one of the first things you must do is add logging and error handling, because both are useful from the very beginning.</p>
<p>For all software systems that are bigger than a handful of lines of code, you need some way of knowing what happens in the program.</p>
<p>Perhaps not when it is working as expected, but as soon as it doesn’t, you must be able to see what’s happening.</p>
<p>The same goes for error handling - errors and exceptions happen in the beginning too, so the sooner you systematically handle them, the better.</p>
<p><a name="it-will-take-longer-than-you-think"></a></p>
<hr>
<h2>8. It Will Take Longer Than You Think</h2>
<p>Have you ever made a wrong estimate? </p>
<p>According to Daniel Kahneman’s research in the book <a href="https://amzn.to/2RqN9dG"><em><strong>Thinking Fast and Slow</strong></em></a> there is a fair chance you would say yes.</p>
<p>We are all bad at estimating. The reason why we are worse in estimating is that we don’t seem to understand what estimates are.</p>
<p>We don’t know what they are supposed to be. We don’t see why we do them. We don’t know how to do them.</p>
<p>The problem with estimates is that they <em>breed mistrust.</em> Once you give an estimated deadline, it immediately transforms into a contract and commitment. Then you miss it!</p>
<p>Have you ever missed an estimate? </p>
<p>When you miss an estimate, the stakeholders assume that it was a commitment of some kind and you are not trustworthy. </p>
<p>Let me show how wrong I have been in estimating:</p>
<p>The early backend system of Elanic was written using PHP and MySQL. When I had a discussion with founders, they painted a beautiful picture of the scale we would be handling.</p>
<p>There is going to be a multitude of social interactions, buying &#x26; selling of items, logistics tracking, feeds engagements, etc. We need to build a system which could handle such features and the scale of millions of users.</p>
<p>My job was to migrate it to a new stack using NodeJS, MongoDB, and Elasticsearch along with maintaining the current system. I brainstormed the new software architecture design and presented it.</p>
<p>My boss asked how long is it going to take? Well, it is a few API calls to write. Four weeks and we would be ready to launch.</p>
<p>We launched the new backend twelve months later. That was 12X of what was estimated. </p>
<p>The problem seemed straightforward in the start. But there was no way I could have known the issues without actually going and trying to solve them.</p>
<p>I learned it is effortless to give an estimate for a project deadline. But it is extremely hard to hit it precisely.</p>
<p>Even as of today most of my projects take three times longer than the time I forecast.</p>
<p>There are so many external factors involved, communicating the requirements effectively, a simple merge turns out to be the cause of a catastrophic bug, or an API call doesn’t work as promised, etc. It is quite common to run into unexpected problems.</p>
<p><a name="there-will-always-be-bugs"></a></p>
<hr>
<h2>9. There Are No Coincidences</h2>
<p>Startups are really good at creating what I call “Fake Urgencies.” People will come to you and say something like <em>“if we don’t do this by tomorrow, we are doomed.”</em></p>
<p>As programmers, we’re under constant pressure to deliver code quickly. The most important lesson I learned in the last three years is “haste always makes waste.”</p>
<p>You should always take time to think about risks involved throughout the whole process.</p>
<p>Good software design is not an accident, it is the result of meticulous planning and leveraging exceptional programming skills.</p>
<p>Never believe in coincidences, when you are developing a new feature, or fixing bugs. You added a new feature, and an independent feature becomes unavailable? Not an accident.</p>
<p>Ignoring such occurrences, and not spending time investigating the issue may bring the whole system down. In some cases even kill people.</p>
<p><a name="conclusion"></a></p>
<hr>
<h2>Conclusion</h2>
<p>If you made it till this section, <em><strong>CONGRATULATIONS!</strong></em>. I really thank you for your commitment.</p>
<p>If I would like you to take in one lesson from my experiences in the post it’s going to be:</p>
<p><em>Software development is hard work. A clear codebase and flexible software architecture is no accident. Very few programs come out right the first time or even the third time. Remember this in moments of despair. If you find that building reliable, scalable, and flexible software application is hard, it’s because it is hard.</em></p>
<h2>We 💚 your feedback</h2>
<p>In this post I shared the lessons I learned while working for an early stage startup. If it helps you in any way please let me know in comments. You can also share your feedback through <a href="https://github.com/vadelabs/nerdsden/issues">Github</a> or <a href="">Slack</a></p>
<h2>References and Further Reading</h2>
<ol>
<li><a href="https://amzn.to/2AyCQKk">MongoDB Data Modeling</a></li>
</ol></div><footer><div class="sc-chPdSV inprYe"><div><div class="fb-comments" data-href="https://nerds-den.com/9-software-design-lessons-i-learned-while-scaling-a-startup/" data-width="100%"></div></div></div></footer> </section></div><footer class="sc-htpNat kFfSgO"><ul class="sc-bxivhb jfyhWd"><li class="sc-ifAKCX dymEzk">Copyright © 2019 -<!-- --> <a href="https://vadelabs.com/" rel="nofollow noopener noreferrer" target="_blank">Vadelabs</a>. All Rights Reserved</li><li class="sc-ifAKCX dymEzk"><a href="/privacy/" target="_blank" rel="noopener noreferrer">Privacy</a> <a href="/terms-of-use/" target="_blank" rel="noopener noreferrer">Terms Of Use</a> <a href="/contact/" target="_blank" rel="noopener noreferrer">Contact</a></li></ul></footer></div></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-55436366-2', 'auto', {});
      
      }
      </script><script id="gatsby-script-loader">/*<![CDATA[*/window.page={"componentChunkName":"component---src-templates-post-js","jsonName":"9-software-design-lessons-i-learned-while-scaling-a-startup-b51","path":"/9-software-design-lessons-i-learned-while-scaling-a-startup/"};window.dataPath="717/path---9-software-design-lessons-i-learned-while-scaling-a-startup-b-51-c2e-ut0IeA2zXkR7oabUilXrdbxHxDA";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-0cba9704948fe026c2e4.js"],"component---node-modules-gatsby-plugin-offline-app-shell-js":["/component---node-modules-gatsby-plugin-offline-app-shell-js-fc6018191be2ea4fa13f.js"],"component---src-templates-index-js":["/component---src-templates-index-js-fb91bd9a2995122d8178.js"],"component---src-templates-amp-index-js":["/component---src-templates-amp-index-js-d9b407886051f1e8da78.js"],"component---src-templates-post-js":["/component---src-templates-post-js-9c560fbe81ce0016baaa.js"],"component---src-templates-amp-post-js":["/component---src-templates-amp-post-js-04bf92b337da3b2c10fa.js"],"component---src-templates-tag-js":["/component---src-templates-tag-js-e6b5c704d1bc67f9e502.js"],"component---src-templates-amp-tag-js":["/component---src-templates-amp-tag-js-ca9c6a88820f113c0644.js"],"component---src-templates-page-js":["/component---src-templates-page-js.7a7fd10b08846091aeed.css","/component---src-templates-page-js-e5dd4b9d231a1b682dca.js"],"component---src-templates-amp-page-js":["/component---src-templates-amp-page-js.7a7fd10b08846091aeed.css","/component---src-templates-amp-page-js-ae9547cc3a7f0fac9c2b.js"],"component---src-pages-404-js":["/component---src-pages-404-js-5c64a531d0cc7b3642d5.js"],"component---src-pages-404-amp-js":["/component---src-pages-404-amp-js-aa51a7cde7aa6fadde01.js"],"component---src-pages-contact-js":["/component---src-pages-contact-js-e41451bd8afb8e94dcd7.js"],"component---src-pages-contact-amp-js":["/component---src-pages-contact-amp-js-85e0b09755eec489181e.js"],"component---src-pages-tags-js":["/component---src-pages-tags-js-0c4b3f88c0dbb107fe93.js"],"component---src-pages-tags-amp-js":["/component---src-pages-tags-amp-js-6eb4033d9fa04a2ee178.js"],"pages-manifest":["/pages-manifest-26bcd0837267dd9d20b4.js"]};/*]]>*/</script><script src="/webpack-runtime-d093596d07011eb26004.js" async=""></script><script src="/0-2426f60835237eb006cc.js" async=""></script><script src="/app-0cba9704948fe026c2e4.js" async=""></script><script src="/component---src-templates-post-js-9c560fbe81ce0016baaa.js" async=""></script><script src="/2-fe2e0b7c5d355dd92853.js" async=""></script></body></html>