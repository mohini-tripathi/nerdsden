{"data":{"site":{"siteMetadata":{"siteUrl":"https://nerds-den.com","facebook":{"appId":"2232544823425455"}}},"post":{"id":"43a6a365-af64-5524-bd44-83ad69e8e90a","excerpt":"Over three years, I worked as a Backend Team Lead at  Elanic   (India‚Äôs Biggest Community For Buying and Selling) . I learned a lot about‚Ä¶","html":"<p>Over three years, I worked as a Backend Team Lead at <a href=\"https://elanic.in\">Elanic</a> <em>(India‚Äôs Biggest Community For Buying and Selling)</em>. I learned a lot about software development during these <em>‚Äúfirey‚Äù</em> years of scaling Elanic from thirty users in August 2015 to three million users in August 2018.</p>\n<p>[IMAGE]</p>\n<p>I started with no prior experience in building a production-grade software system. I thought I had a good foundation of programming concepts. How hard could it be? Little that I knew, I am in for lots of sleepless nights and burning myself out in the quest of stabilizing Elanic‚Äôs backend system.¬†</p>\n<p>[IMAGE]</p>\n<blockquote>\n<p>Trying to create new, challenging things is good for society, good for the industry and good for my own life. ~Sachio¬†Semmoto</p>\n</blockquote>\n<p>No other experience could have taught me what I know today. In this article, I share the software design lessons I learned the hard way.</p>\n<h2>Table Of Contents</h2>\n<ol>\n<li><a href=\"#start-with-the-data-model\">Start With The Data Model</a></li>\n<li><a href=\"#separate-your-concerns\">Separate Your Concerns</a></li>\n<li><a href=\"#leverage-rule-engines\">Leverage Rule Engines</a></li>\n<li><a href=\"#design-for-testability\">Design For Testability</a></li>\n<li><a href=\"#there-are-no-coincidences\">There Are No Coincidences</a></li>\n<li><a href=\"#things-will-break\">Things Will Break</a></li>\n<li><a href=\"#setup-logging-and-error-handling-early\">Setup Logging And Error Handling Early</a></li>\n<li><a href=\"#it-will-take-longer-than-you-think\">It Will Take Longer Than You Think</a></li>\n<li><a href=\"#there-will-always-be-bugs\">There Will Always Be Bugs</a></li>\n<li><a href=\"#bonus-use-message-queues\">Bonus: Use Message Queues</a></li>\n<li><a href=\"#conclusion\">Conclusion</a></li>\n</ol>\n<p><a name=\"start-with-the-data-model\"></a></p>\n<hr>\n<h2>1. Start With The Data Model</h2>\n<p>Business people care about data and concentrate on how this data can be transformed, combined and separated to meet business requirements. Whereas software developers tend to care about the classes, functions, and processes they are writing.</p>\n<p>This mismatch in the thinking process leads to further misunderstanding among business and engineering teams.</p>\n<p>To understand the gravity of the problem let‚Äôs draw a typical feature request timeline I went through:</p>\n<p>[IMAGE]</p>\n<p>Six months into my job as a backend developer, I realized I need to better understand business requirements and design system flexible enough to adapt frequently.</p>\n<p>Hence, <em><strong>Data Modelling.</strong></em></p>\n<p>The aim of data modeling is to define:</p>\n<ul>\n<li><em><strong>The data contained in the database</strong> (e.g., entities: devices, profiles, products, carts, orders, wallets etc.)</em></li>\n<li><em><strong>The relationships among data items</strong> (e.g., profiles can create products, products can be bought by profiles etc.)</em></li>\n<li><em><strong>The constraints on data</strong> (e.g., at max only 30 products can be bought together, wallet credit should not be used if wallet balance becomes less than zero etc.)</em></li>\n</ul>\n<p>Following this step gave me a clear understanding of business requirements and teams were able to understand and communicate themselves better.</p>\n<p><a name=\"separate-your-concerns\"></a></p>\n<hr>\n<h2>2. Separate Your Concerns</h2>\n<p>When I started backend development in <a href=\"https://elanic.in\">Elanic</a>, the problem we were trying to solve seemed easy. It‚Äôs a social community engaged in buying and selling of lifestyle items.¬†</p>\n<p>It took me seven continuous sleepless nights to keep the servers running during our growth phase to understand that it is not. Once we stabilized the system to sustain the traffic, I realized the whole codebase is the unsustainable mesh of reads and writes operations.¬†</p>\n<p>Next month went into a rewrite of the critical sections using proper abstractions‚Ää-‚Ääseparating read and write operations.</p>\n<p>Abstractions are the solutions to general problems. The + function is a solution to add in general. It is quite useless without arguments to apply it to. The application of abstraction to particular arguments is a solution to a particular problem.</p>\n<p>We often think of a piece of software as the solution to a problem, as in accounting software is the solution to the problem of accounting. But this is a bit like saying the kitchen is the solution to cooking. It doesn‚Äôt tell the whole story. If you open the cabinet, you see that cooking is terribly complicated. It‚Äôs made of a lot of smaller problems, like cutting and applying heat. Our software is the same. It‚Äôs thousands of solutions to lots of subproblems.</p>\n<p>When we develop a new system, our task is about as complicated as inventing cuisine. Our medium is much more malleable than steel, so we can iterate faster, but we still need to fill those drawers with tools and develop processes to select the right tool and apply it in the right way.</p>\n<p><a name=\"leverage-rule-engines\"></a></p>\n<hr>\n<h2>3. Levarage Rule Engines</h2>\n<p>Once we decided to introduce voucher support in buy-flow of our application. To do it faster I hardcoded the coupon code and validation logic within the codebase.¬†</p>\n<p>Next day onwards, the marketing team kept asking to change the coupon almost every day, and we kept re-writing the same block of code instead of moving forward and focus on other features.</p>\n<p>Later on, similar kind of changes got introduced in deciding commission, delivery charges, pickup charges etc. Thankfully, my mentor introduced me to rule engines to solve such problems gracefully.</p>\n<p>If you are not familiar with rules engines, you may be wondering why you would want to use one. In most applications, complex rule processing often takes the form of nested if-else blocks of code which can be very difficult to decipher and to maintain. If rules change, a developer must work with a business user to define the new rules. The developer must then read through the existing logic to understand what is happening and make the necessary modifications. The changes must then be recompiled, tested, and redeployed. A rules engine provides a means to separate the rules or logic of an application from the remaining code. Separating these rules provides several distinct advantages.</p>\n<ol>\n<li>\n<p><em>A rule engine allows for a more declarative style of programming where the rules define what is happening, without describing how it is happening. This makes it much easier to read than nested ‚Äòif-else‚Äô blocks of code. It‚Äôs also easier to make changes without introducing bugs in your code.</em></p>\n</li>\n<li>\n<p><em>The rules are written in a language that is easier for non-developers to understand. This makes it easier for business users to validate and even modify the rules without having to involve developers.</em></p>\n</li>\n<li>\n<p><em>A rule engine allows for changes to be made to the rules without requiring that you recompile your application. If your code must pass through a strict deployment workflow, this can be a huge time saver and can also save a significant amount of money.</em></p>\n</li>\n</ol>\n<p><a name=\"design-for-testability\"></a></p>\n<hr>\n<h2>4. Design For Testability</h2>\n<p><a name=\"there-are-no-coincidences\"></a></p>\n<hr>\n<h2>5. There Are No Coincidences</h2>\n<p><a name=\"things-will-break\"></a></p>\n<hr>\n<h2>6. Things Will Break</h2>\n<p><a name=\"setup-logging-and-error-handling-early\"></a></p>\n<hr>\n<h2>7. Setup Logging And Error Handling Early</h2>\n<p><a name=\"it-will-take-longer-than-you-think\"></a></p>\n<hr>\n<h2>8. It Will Take Longer Than You Think</h2>\n<p><a name=\"there-will-always-be-bugs\"></a></p>\n<hr>\n<h2>9. There Will Always Be Bugs</h2>\n<p><a name=\"bonus-use-message-queues\"></a></p>\n<hr>\n<h2>10. Bonus: Use Message Queues</h2>\n<p><a name=\"conclusion\"></a></p>\n<hr>\n<h2>Conclusion</h2>\n<h2>We üíö your¬†feedback</h2>\n<p>In this post I shared the lessons I learnt while working for a early stage startup. If it helps you in any way please let me know in comments. You can also share your feedback through <a href=\"https://github.com/vadelabs/nerdsden/issues\">Github</a> or <a href=\"\">Slack</a></p>\n<h2>References and Further¬†Reading</h2>\n<ol>\n<li><a href=\"https://amzn.to/2AyCQKk\">MongoDB Data Modeling</a></li>\n</ol>","fields":{"slug":"9-software-design-lessons-i-learned-while-scaling-a-startup/","date":"January 06, 2019","tags":[{"id":"software-design","slug":"software-design","title":"Software Design"},{"id":"startup","slug":"startup","title":"Startup"},{"id":"software-development","slug":"software-development","title":"Software Development"},{"id":"best-practices","slug":"best-practices","title":"Best Practices"},{"id":"software-architecture","slug":"software-architecture","title":"Software Architecture"}]},"frontmatter":{"title":"9 Software Design Lessons I Learned While Scaling A Startup","author":"Pragyan Tripathi","summary":"Nine mantras for software developers to survive uncertainity and high frequency changes in a startup without losing their sleep over it.","metaDescription":"Are you a software developer in an early stage startup? Want to learn key lessons in software engineering to design reliable software architecture? Click to find out more!","cover":{"children":[{"__typename":"ImageSharp","fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAIDAQT/xAAWAQEBAQAAAAAAAAAAAAAAAAAAAQL/2gAMAwEAAhADEAAAAeCWtcyGD//EABgQAAMBAQAAAAAAAAAAAAAAAAABEQIS/9oACAEBAAEFAlkaIdaiKf/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABYQAQEBAAAAAAAAAAAAAAAAABARIf/aAAgBAQAGPwLWV//EABgQAQEBAQEAAAAAAAAAAAAAAAEAESEx/9oACAEBAAE/IR6cJMOWo2cB9jzWZ//aAAwDAQACAAMAAAAQlC//xAAWEQADAAAAAAAAAAAAAAAAAAABECH/2gAIAQMBAT8QhX//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAcEAEAAgMAAwAAAAAAAAAAAAABABEhMUFRgZH/2gAIAQEAAT8QM8yTGH7EnALuIU+S5Sy0h33NuuuRigOT/9k=","aspectRatio":2.2222222222222223,"src":"/static/d15c1c7cc8b04e1c6d115176a7eef075/c3611/cover.jpg","srcSet":"/static/d15c1c7cc8b04e1c6d115176a7eef075/21eb9/cover.jpg 200w,\n/static/d15c1c7cc8b04e1c6d115176a7eef075/007d5/cover.jpg 400w,\n/static/d15c1c7cc8b04e1c6d115176a7eef075/c3611/cover.jpg 800w,\n/static/d15c1c7cc8b04e1c6d115176a7eef075/28dd4/cover.jpg 1200w,\n/static/d15c1c7cc8b04e1c6d115176a7eef075/0d0e5/cover.jpg 1600w,\n/static/d15c1c7cc8b04e1c6d115176a7eef075/d5388/cover.jpg 2400w,\n/static/d15c1c7cc8b04e1c6d115176a7eef075/5363e/cover.jpg 5551w","srcWebp":"/static/d15c1c7cc8b04e1c6d115176a7eef075/ca3ca/cover.webp","srcSetWebp":"/static/d15c1c7cc8b04e1c6d115176a7eef075/132d5/cover.webp 200w,\n/static/d15c1c7cc8b04e1c6d115176a7eef075/5f2a2/cover.webp 400w,\n/static/d15c1c7cc8b04e1c6d115176a7eef075/ca3ca/cover.webp 800w,\n/static/d15c1c7cc8b04e1c6d115176a7eef075/3c0bf/cover.webp 1200w,\n/static/d15c1c7cc8b04e1c6d115176a7eef075/0cbcf/cover.webp 1600w,\n/static/d15c1c7cc8b04e1c6d115176a7eef075/bd7b6/cover.webp 2400w,\n/static/d15c1c7cc8b04e1c6d115176a7eef075/1b486/cover.webp 5551w","sizes":"(max-width: 800px) 100vw, 800px"}}]}}}},"pageContext":{"slug":"9-software-design-lessons-i-learned-while-scaling-a-startup/"}}